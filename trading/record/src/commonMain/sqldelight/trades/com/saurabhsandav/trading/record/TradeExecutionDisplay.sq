CREATE VIEW IF NOT EXISTS TradeExecutionDisplay AS
SELECT T.*, IFNULL(B.name, T.brokerId) AS brokerName, IFNULL(S.ticker, T.symbolId) AS ticker
FROM TradeExecution AS T
LEFT JOIN Broker AS B ON T.brokerId = B.id
LEFT JOIN Symbol AS S ON T.symbolId = S.id AND T.brokerId = S.brokerId;

getAllPaged:
SELECT *
FROM TradeExecutionDisplay
ORDER BY datetime(timestamp) DESC, id DESC
LIMIT :limit OFFSET :offset;
