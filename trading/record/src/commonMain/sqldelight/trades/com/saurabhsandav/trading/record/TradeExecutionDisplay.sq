CREATE VIEW IF NOT EXISTS TradeExecutionDisplay AS
SELECT T.*, IFNULL(B.name, T.brokerId) AS brokerName, CAST(T.symbolId AS TEXT) AS ticker
FROM TradeExecution AS T
LEFT JOIN Broker AS B ON T.brokerId = B.id;

getAllPaged:
SELECT *
FROM TradeExecutionDisplay
ORDER BY datetime(timestamp) DESC, id DESC
LIMIT :limit OFFSET :offset;
